---
title: "Software Quality Metrics Interactive HTML"
author: "Liam Whitenack"
date: "`r Sys.Date()`"
documentclass: article
geometry: margin=1in
fontsize: 11pt
output: flexdashboard::flex_dashboard
---
```{r setup, include = FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  eval = TRUE,
  fig.width = 5,
  fig.asp = 0.618,
  out.width = "70%",
  dpi = 120,
  fig.align = "center",
  cache = FALSE
)
library(tidyverse)
library(plotly)
library(crosstalk)
Jira_reduced <- read_csv("Jira_reduced.csv")
```
```{r IQR, echo= FALSE}
Q1 <- quantile(Jira_reduced$time_spent, .25)
Q3 <- quantile(Jira_reduced$time_spent, .75)
IQR <- IQR(Jira_reduced$time_spent)
no_outliers_Jira_reduced <- subset(Jira_reduced, Jira_reduced$time_spent> 
                                     (Q1 - 1.5*IQR) & Jira_reduced$time_spent< (Q3 + 1.5*IQR))
```
```{r no_outliers, echo= FALSE}
Shared_Jira <- SharedData$new(no_outliers_Jira_reduced)
```
```{r boxplot_b, echo= FALSE}
b <- Shared_Jira %>%
  ggplot() +
  geom_boxplot(aes(x = reorder(Priority, repair_time, FUN=median), y = repair_time, fill = Priority)) +
  labs(x = "Priority", y = "Repair Time") + 
  theme(axis.text.x = element_text(angle = 90))
```
```{r scatterplot_p, echo= FALSE}
p <- Shared_Jira %>%
  ggplot() +
   geom_point(
     mapping = aes(x = date_created, y = repair_time, color = Priority)
   ) +
  labs(x = "Date Created", y = "Repair Time")
```
```{r num_outliers, echo=FALSE}
outliers <- nrow(Jira_reduced) - nrow(no_outliers_Jira_reduced)
```

Column
-------------------------------------
### Priority Boxplot

```{r, echo= FALSE}
ggplotly(b)
```

Column
-------------------------------------
### Scatterplot

```{r, echo= FALSE}
ggplotly(p)
```

SidebarName {.sidebar}
----------------------
```{r, echo = FALSE}
filter_select("Priority", "Priority", Shared_Jira, ~Priority)
```



